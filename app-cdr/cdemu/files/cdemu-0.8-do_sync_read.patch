--- cdemu_core.c	2007-02-07 15:32:12.000000000 +0300
+++ cdemu_core.c	2006-12-24 12:38:20.000000000 +0200
@@ -486,11 +486,11 @@ static int cdemu_ioctl(struct cdrom_devi
 			}

 			if (cmd == CDROMREADRAW) {
-				tmp = generic_file_read(vc->backing_file, (void*)arg, CD_FRAMESIZE_RAW, &position);
+				tmp = do_sync_read(vc->backing_file, (void*)arg, CD_FRAMESIZE_RAW, &position);
 				if (tmp != CD_FRAMESIZE_RAW)
 					dprintk("only read %i bytes\n",tmp);
 			} else {	/*CDROMREADCOOKED*/
-				tmp = generic_file_read(vc->backing_file, (void*)arg, CD_FRAMESIZE, &position);
+				tmp = do_sync_read(vc->backing_file, (void*)arg, CD_FRAMESIZE, &position);
 				if (tmp != CD_FRAMESIZE)
 					dprintk("only read %i bytes\n",tmp);
 			}
